(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7894],{80402:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return O}});var r=i(59999),n=i(85893),a=i(26265),l=i(67294),s=i(10114),o=i(46623),c=i(11163),d=i(8560),u=i(79038),y=i(40619),_=i(71230),f=i(15746),h=i(41664),p=i(22519),g=i(49274),m=i(21279),b=i(25084),v=i(8193),x=i(63750),j=i(78329),k=i(33166),w=i(74865),S=i.n(w);function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){(0,a.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var O=!0;t.default=function(e){var t,i=(0,c.useRouter)(),a=(0,l.useState)({page:e.page,seo_url:e.seo_url,list:[],total_record:e.total_record,is_more:!0,isMenuShow:!0,isSaleCategory:!1,isRefreshing:!1,SortBySelected:"",stringFilter:"",values:[],visibleFilter:!1,isNull:!1,empty_data:{},is_checked:!1,filter:[],arrayRadio:[{unique:"&sort_by=1",key:"sort_by",value:"1"}],arrayCheckBok:[],brands:e.brands?e.brands.map((function(e){return F(F({},e),{},{isSelected:!1})})):[],brandFilter:"",rangeFilter:""}),w=a[0],C=a[1],O=(0,l.useContext)(j.k),P=O.globalState.dark,Z=O.darkColorPalette,R=(0,l.useState)({visible:!1}),D=(R[0],R[1],w.list),E=w.filter,I=w.page,L=w.is_more,M=w.seo_url,N=w.total_record,W=(w.isSaleCategory,w.isMenuShow),B=w.is_checked,z=w.stringFilter,T=w.arrayCheckBok,q=w.arrayRadio,H=w.empty_data;(0,l.useEffect)((function(){S().done(),M==e.seo_url?1==e.page?C(F(F({},w),{},{seo_url:e.seo_url,list:e.list,empty_data:e.empty_data,total_record:e.total_record})):0!=N?C(F(F({},w),{},{page:I+1,list:D.concat(e.list)})):(C(F(F({},w),{},{list:[],filter:[],page:1,is_more:!0})),A(1,z)):1==e.page&&C(F(F({},w),{},{page:1,stringFilter:"",arrayCheckBok:[],arrayRadio:[],is_more:!0,seo_url:e.seo_url,list:e.list,is_checked:B,filter:e.filter,total_record:e.total_record}))}),[e,e.page,e.seo_url,e.sort_by]);var X=function(){var t="1"===e.ded?"ListProduct/getDailyDealFilters":"ListProduct/getFilters?seo_url="+e.seo_url;(0,s.v_)(t).then((function(e){(0,s.xb)(e&&e.filter)||C(F(F({},w),{},{filter:e.filter,visibleFilter:!0}))}))},A=function(t,r){var n="?page="+t,a="";e.is_sale_category&&(n+="&is_sale_category="+e.is_sale_category,a+="?is_sale_category="+e.is_sale_category),e.mata_title&&(n+="&name="+e.mata_title),n.includes("manufacturer_id")||(n+=w.brandFilter),r&&(n+=r),e.ded&&(n+="&ded=1",a+=a?"&ded=1":"?ded=1"),i.replace("/[ProductList]"+n,e.seo_url+a,{scroll:1==t})},G=function(e,t,i){var r=D;r[i].is_wish_list=!t,C(F(F({},w),{},{list:r}))},J=function(e,t,i){return i.indexOf(e)===t},K=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={},r="",n="",a=0;a<e.length;a++){var l=e[a].dynamic_key;i.hasOwnProperty(l)||(i[l]=[]),i[l].push(e[a].value)}Object.keys(i).map((function(e,t){if(e){var n=i[e].filter(J);r+="&"+e+"="+n}})),t.map((function(e,t){e.dynamic_key&&(n+="&"+e.dynamic_key+"="+e.value)}));var s=r+n;C(F(F({},w),{},{page:1,arrayCheckBok:e,arrayRadio:t,stringFilter:s}))},Q=function(){C(F(F({},w),{},{visibleFilter:!1}))},U={width:80,padding:2,borderRadius:6,borderWidth:.5,borderColor:P?"dimgray":"black",display:"flex",alignItems:"center",borderStyle:"solid",justifyContent:"center",margin:15,marginTop:15,cursor:"pointer"},V=(0,n.jsxs)(_.Z,{style:{alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)(f.Z,{children:(0,n.jsx)("span",{style:{fontSize:20,fontWeight:600},children:"Filter"})}),(0,n.jsx)(f.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:function(){Q()},children:(0,n.jsx)(v.oHP,{size:22,style:{fontWeight:600}})})]}),Y=0;Y=window.innerWidth;var $="";N>0&&($=e.mata_title+" ("+N+(N>1?" Items)":" Item)"));var ee;return(0,n.jsxs)(o.Z,F(F({},e),{},{isFooter:!L,menuShow:function(){C(F(F({},w),{},{isMenuShow:!0}))},menuHide:function(){C(F(F({},w),{},{isMenuShow:!1}))},isModal:!1,children:[(null===(t=e.dynamic_content)||void 0===t?void 0:t.length)>0&&(0,n.jsx)(k.Z,{data:e.dynamic_content}),(0,n.jsx)(p.Z,{loadMore:function(){D&&D.length<N?(A(I+1,z),C(F(F({},w),{},{is_more:!0}))):D&&C(F(F({},w),{},{is_more:!1}))},isMore:L,children:(0,n.jsx)("div",{children:(0,n.jsxs)(y.Z,{children:[(0,n.jsxs)("div",{style:{visibility:w.visibleFilter?"hidden":"visible"},children:[(0,n.jsx)(m.Z,{}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("h1",{style:{paddingLeft:10,fontSize:18},children:(ee=$,l.createElement("div",{dangerouslySetInnerHTML:{__html:ee}}))}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsxs)("div",{style:U,onClick:function(){C(F(F({},w),{},{visibleFilter:!0})),E&&0!=E.length||X()},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(x.r0X,{size:20,style:{fontWeight:600}})}),(0,n.jsx)("div",{children:"Filter"})]})})]})]}),w.brands&&w.brands.length>0&&(0,n.jsx)("div",{style:{display:"flex",gap:10,padding:"0 20px",marginBottom:15,flexWrap:"wrap"},children:w.brands.map((function(e,t){return(0,n.jsx)("div",{style:{padding:"2px 15px",fontSize:16,border:e.isSelected?P?"1px solid white":"1px solid black":P?"1px solid dimgray":"1px solid lightgray",borderRadius:5,cursor:"pointer"},onClick:function(){return function(e){var t=(0,r.Z)(w.brands);t[e].isSelected=!t[e].isSelected;var i="&manufacturer_id=";i+=t.filter((function(e){return e.isSelected})).map((function(e){return e.manufacturer_id})).join(","),A(1,z+i),C(F(F({},w),{},{page:1,brands:t,brandFilter:i}))}(t)},children:e.name},e.name)}))}),(0,n.jsx)("div",{className:"site-drawer-render-in-current-wrapper",children:(0,n.jsx)(b.Z,{title:V,placement:"right",closable:!1,mask:!1,onClose:Q,visible:w.visibleFilter,width:Y>800?500:"100%",bodyStyle:{backgroundColor:P?Z.bgDarkColor2:""},headerStyle:{backgroundColor:P?Z.bgDarkColor2:"",borderColor:P?"dimgray":""},children:(0,n.jsx)(g.Z,{filter:E,onClickFilterSelect:function(e,t){var i="&"+t.dynamic_key+"="+e.value,r={unique:i,dynamic_key:t.dynamic_key,value:e.value};if("radio"==t.type){if(!e.is_checked){t.value.map((function(e,i){t.value[i].is_checked=!1})),e.is_checked=!0;for(var n=q,a=0;a<n.length;a++)if(n[a].dynamic_key==t.dynamic_key){n=q.filter((function(e,i){return e.dynamic_key!=t.dynamic_key}));break}n.push(r),K(T,n)}}else if("checkbox"==t.type)if(0==e.is_checked){var l=T;e.is_checked=!0,l.push(r),K(l,q)}else{l=T.filter((function(e,t){return e.unique!=i}));e.is_checked=!1,K(l,q)}else"range"===t.type&&C((function(i){return F(F({},i),{},{rangeFilter:"&".concat(t.dynamic_key,"=").concat(e.value[0],"&").concat(t.dynamic_key,"=").concat(e.value[1])})}))},isMenuShow:W,handleClear:function(e){C(F(F({},w),{},{page:1,arrayCheckBok:[],arrayRadio:[],stringFilter:""})),A(1,""),X()},handleApplay:function(){A(1,z+"&"+w.rangeFilter),Q()},category_name:e.mata_title})})}),(0,n.jsx)(_.Z,{children:0==D.length?(0,n.jsx)(f.Z,{xs:24,md:24,lg:24,children:(0,n.jsx)("div",{style:{height:"50%",alignItems:"center",justifyContent:"center",display:"flex",marginTop:"30px"},children:(0,n.jsx)("span",{style:{fontSize:20,fontWeight:700},children:H.label})})}):(0,n.jsx)(f.Z,{xs:24,md:24,lg:24,children:(0,n.jsx)(_.Z,{style:{paddingLeft:Y>800?10:0},children:D&&D.length>0&&D.map((function(t,i){return(0,n.jsxs)(f.Z,{xs:12,sm:6,lg:6,style:{paddingLeft:(i+1)%2==0?Y>800?0:3:0,paddingRight:(i+1)%2==0?Y>800?15:0:Y>800?15:3},children:[(0,n.jsx)(h.default,{href:{pathname:"/[...ProductDetails]",query:{product_id:t.product_id,name:t.product_name}},as:"/".concat(M,"/").concat(t.product_seo_url),children:(0,n.jsx)("a",{style:{color:"#000000"},children:(0,n.jsx)(u.Z,F(F(F({isZoom:!0,imagePath:e.imagePath,image_width_product_list:e.image_width_product_list,image_height_product_list:e.image_height_product_list},e),t),{},{textLeft:t.spacial_label}))})}),(0,n.jsx)(d.ZP,F(F({},t),{},{index:i,handleWishIcon:G}))]},i)}))})})})]})})})]}))}},16398:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[ProductList]",function(){return i(80402)}])}},function(e){e.O(0,[9774,4980,3415,1228,5445,5937,2013,4617,4885,4019,8608,7795,2888,179],(function(){return t=16398,e(e.s=t);var t}));var t=e.O();_N_E=t}]);